# å¼€å‘æŒ‡å—

## é¡¹ç›®çŠ¶æ€

âœ… **å·²å®Œæˆ - Developer A çš„ P0 çº§ä»»åŠ¡**

- [x] Next.js 14 é¡¹ç›®åˆå§‹åŒ–
- [x] TypeScript + Tailwind CSS + Shadcn/UI é…ç½®
- [x] Framer Motion + Zustand çŠ¶æ€ç®¡ç†
- [x] ä¸­æ–‡å­—ä½“é…ç½®ï¼ˆNoto Serif SC + Noto Sans SCï¼‰
- [x] æ ¸å¿ƒç±»å‹å®šä¹‰ï¼ˆ`src/lib/types.ts`ï¼‰
- [x] Mock æ•°æ®ç”Ÿæˆï¼ˆ`src/data/mock-content.json`ï¼‰
- [x] å“åº”å¼å…¥å£åˆ†æµé€»è¾‘
- [x] å¼€åœºä¿¡å°åŠ¨ç”»ç»„ä»¶
- [x] PC ç«¯å’Œç§»åŠ¨ç«¯å ä½ç»„ä»¶
- [x] é£ä¹¦åŒæ­¥è„šæœ¬æ¡†æ¶
- [x] ç¯å¢ƒå˜é‡é…ç½®æ¨¡æ¿
- [x] Loading å’Œ 404 é¡µé¢

## å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†ä»“åº“

```bash
git clone https://github.com/Akinokuni/HNU-TimeLetter.git
cd HNU-TimeLetter
```

### 2. å®‰è£…ä¾èµ–

```bash
npm install
```

### 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® http://localhost:3000 æŸ¥çœ‹æ•ˆæœã€‚

**æ³¨æ„**: é¦–æ¬¡è¿è¡Œä¼šå°è¯•æ‰§è¡Œ `npm run sync`ï¼Œå¦‚æœæ²¡æœ‰é…ç½®é£ä¹¦å‡­è¯ä¼šå¤±è´¥ï¼Œä½†ä¸å½±å“å¼€å‘ï¼ˆä¼šä½¿ç”¨ Mock æ•°æ®ï¼‰ã€‚

## å¼€å‘åˆ†å·¥

### Developer Aï¼ˆå·²å®ŒæˆåŸºç¡€æ¶æ„ï¼‰

- âœ… é¡¹ç›®åˆå§‹åŒ–å’Œé…ç½®
- âœ… æ ¸å¿ƒç±»å‹å®šä¹‰
- âœ… å…¨å±€çŠ¶æ€ç®¡ç†
- âœ… å“åº”å¼åˆ†æµé€»è¾‘
- âœ… å¼€åœºåŠ¨ç”»ç»„ä»¶
- ğŸ”„ é£ä¹¦æ•°æ®åŒæ­¥è„šæœ¬ï¼ˆå¾…å®Œå–„ï¼‰

### Developer Bï¼ˆPC ç«¯ï¼‰

**å·¥ä½œç›®å½•**: `src/components/desktop/`

**ä»»åŠ¡**:
1. å®ç° `InteractiveMap.tsx` - åœ°å›¾å±•ç¤ºç»„ä»¶
2. å®ç° `PostcardModal.tsx` - æ˜ä¿¡ç‰‡æ¨¡æ€æ¡†
3. å®ç° `StampSwitcher.tsx` - é‚®ç¥¨åˆ‡æ¢å™¨ï¼ˆå¯å¤ç”¨ï¼‰

**æ•°æ®æº**: 
- ä» `src/data/mock-content.json` è¯»å–æ•°æ®
- ä½¿ç”¨ `src/lib/types.ts` ä¸­çš„ç±»å‹å®šä¹‰
- ä½¿ç”¨ `src/lib/store.ts` ç®¡ç†é€‰ä¸­çŠ¶æ€

### Developer Cï¼ˆç§»åŠ¨ç«¯ï¼‰

**å·¥ä½œç›®å½•**: `src/components/mobile/`

**ä»»åŠ¡**:
1. å®ç° `StoryFeed.tsx` - ç€‘å¸ƒæµå¡ç‰‡åˆ—è¡¨
2. å®ç° `MobileDetailModal.tsx` - æ•…äº‹è¯¦æƒ…é¡µ
3. å®ç° `MapFAB.tsx` - æ‚¬æµ®åœ°å›¾æŒ‰é’®
4. å¤ç”¨ `StampSwitcher.tsx`ï¼ˆç”± Dev B æä¾›ï¼‰

**æ•°æ®æº**: åŒ Developer B

## æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

### ç±»å‹å®šä¹‰ (`src/lib/types.ts`)

```typescript
// æ•…äº‹å®ä½“
interface Story {
  id: string;
  characterId: string;
  characterName: string;
  avatarUrl: string;
  mainImageUrl: string;
  content: string;
  author: string;
  date: string;
  locationId: string;
}

// åœ°ç‚¹å®ä½“
interface LocationPoint {
  id: string;
  name: string;
  x: number;  // 0-100%
  y: number;  // 0-100%
  stories: Story[];
}
```

### çŠ¶æ€ç®¡ç† (`src/lib/store.ts`)

```typescript
const { 
  isEnvelopeOpened,        // ä¿¡å°æ˜¯å¦å·²æ‰“å¼€
  setEnvelopeOpened,
  selectedLocationId,      // å½“å‰é€‰ä¸­çš„åœ°ç‚¹
  setSelectedLocationId,
  currentStoryIndex,       // å½“å‰æ•…äº‹ç´¢å¼•
  setCurrentStoryIndex 
} = useAppStore();
```

### Mock æ•°æ® (`src/data/mock-content.json`)

åŒ…å« 3 ä¸ªåœ°ç‚¹ã€5 ä¸ªæ•…äº‹çš„ç¤ºä¾‹æ•°æ®ï¼Œå¯ç›´æ¥ç”¨äºå¼€å‘ã€‚

## è®¾è®¡è§„èŒƒ

### é¢œè‰²

- **Primary**: `#0ea5e9` (æµ·å¤§è“)
- **Background**: `#fdfbf7` (ç±³ç™½/ä¿¡çº¸è‰²)
- **Foreground**: `#292524` (Stone-800)
- **Muted**: `#78716c` (Stone-500)

### å­—ä½“

- **æ ‡é¢˜/å™äº‹**: `font-serif` (Noto Serif SC)
- **UI/æ­£æ–‡**: `font-sans` (Noto Sans SC)

### ä½¿ç”¨æ–¹å¼

```tsx
<h1 className="text-3xl font-serif text-foreground">æ ‡é¢˜</h1>
<p className="text-base font-sans text-muted">æ­£æ–‡</p>
<button className="bg-primary text-white">æŒ‰é’®</button>
```

## å¼€å‘å»ºè®®

### 1. ä½¿ç”¨ Shadcn/UI ç»„ä»¶

é¡¹ç›®å·²å®‰è£…ï¼š
- `Button`
- `Dialog`
- `ScrollArea`
- `Tooltip`

æ·»åŠ æ›´å¤šç»„ä»¶ï¼š
```bash
npx shadcn@latest add [component-name]
```

### 2. ä½¿ç”¨ Framer Motion åŠ¨ç”»

```tsx
import { motion } from 'framer-motion';

<motion.div
  initial={{ opacity: 0 }}
  animate={{ opacity: 1 }}
  exit={{ opacity: 0 }}
>
  å†…å®¹
</motion.div>
```

### 3. ä½¿ç”¨ Lucide React å›¾æ ‡

```tsx
import { MapPin, Heart, X } from 'lucide-react';

<MapPin className="w-6 h-6 text-primary" />
```

### 4. å“åº”å¼è®¾è®¡

ä½¿ç”¨ Tailwind çš„å“åº”å¼å‰ç¼€ï¼š
```tsx
<div className="w-full md:w-1/2 lg:w-1/3">
  {/* ç§»åŠ¨ç«¯å…¨å®½ï¼Œå¹³æ¿åŠå®½ï¼Œæ¡Œé¢ä¸‰åˆ†ä¹‹ä¸€ */}
</div>
```

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•è¯»å– Mock æ•°æ®ï¼Ÿ

```tsx
import mockData from '@/data/mock-content.json';

const locations = mockData.locations;
```

### Q: å¦‚ä½•åœ¨ç»„ä»¶é—´å…±äº«çŠ¶æ€ï¼Ÿ

ä½¿ç”¨ Zustand storeï¼š
```tsx
import { useAppStore } from '@/lib/store';

const { selectedLocationId, setSelectedLocationId } = useAppStore();
```

### Q: å¦‚ä½•é¿å… SSR Hydration é”™è¯¯ï¼Ÿ

ä½¿ç”¨ `'use client'` æŒ‡ä»¤ï¼Œå¹¶åœ¨éœ€è¦æ—¶ä½¿ç”¨ `useEffect`ï¼š
```tsx
'use client';

import { useEffect, useState } from 'react';

export function MyComponent() {
  const [mounted, setMounted] = useState(false);
  
  useEffect(() => {
    setMounted(true);
  }, []);
  
  if (!mounted) return null;
  
  return <div>å†…å®¹</div>;
}
```

## Git å·¥ä½œæµ

### åˆ›å»ºåŠŸèƒ½åˆ†æ”¯

```bash
git checkout -b feature/desktop-map
# æˆ–
git checkout -b feature/mobile-feed
```

### æäº¤ä»£ç 

```bash
git add .
git commit -m "feat: å®ç°åœ°å›¾äº¤äº’åŠŸèƒ½"
git push origin feature/desktop-map
```

### åˆå¹¶åˆ°ä¸»åˆ†æ”¯

åœ¨ GitHub ä¸Šåˆ›å»º Pull Requestï¼Œç»è¿‡ Code Review ååˆå¹¶ã€‚

## ä¸‹ä¸€æ­¥

1. **Developer B**: å¼€å§‹å®ç° PC ç«¯åœ°å›¾äº¤äº’
2. **Developer C**: å¼€å§‹å®ç°ç§»åŠ¨ç«¯ç€‘å¸ƒæµ
3. **Developer A**: å®Œå–„é£ä¹¦åŒæ­¥è„šæœ¬ï¼Œå¯¹æ¥çœŸå®æ•°æ®

## è”ç³»æ–¹å¼

é‡åˆ°é—®é¢˜è¯·åœ¨ GitHub Issues ä¸­æå‡ºï¼Œæˆ–è”ç³»é¡¹ç›®è´Ÿè´£äººã€‚
